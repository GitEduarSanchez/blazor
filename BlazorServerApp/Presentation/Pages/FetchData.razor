@page "/fetchdata"

<PageTitle>Weather forecast</PageTitle>

<h1>Weather forecast</h1>

<p>Este componente demuestra cómo obtener datos de un servicio.</p>

@if (Forecasts == null)
{
        <MudSkeleton />
        <MudSkeleton Animation="Animation.False" />
        <MudSkeleton Animation="Animation.Wave" />
}
else
{
        <MudTable Items="Forecasts" Striped="true" Hover="true">
            <HeaderContent>
                <MudTh>Fecha</MudTh>
                <MudTh>Temp. (C)</MudTh>
                <MudTh>Temp. (F)</MudTh>
                <MudTh>Resumen</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Fecha">@context.Date.ToShortDateString()</MudTd>
                <MudTd DataLabel="Temp. (C)">@context.TemperatureC</MudTd>
                <MudTd DataLabel="Temp. (F)">@context.TemperatureF</MudTd>
                <MudTd DataLabel="Resumen">@context.Summary</MudTd>
            </RowTemplate>
        </MudTable>
}

@code {
    protected override async Task OnInitializedAsync()
    {
        await LoadForecastsAsync();
    }
}
